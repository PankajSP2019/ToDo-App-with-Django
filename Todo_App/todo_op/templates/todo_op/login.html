{% extends 'todo_op/basic.html' %}

{% block title %} Login {% endblock%}

{% block css %}
<style>
    .divider:after,
    .divider:before {
    content: "";
    flex: 1;
    height: 1px;
    background: #eee;
    }
    .h-custom {
    height: calc(100% - 73px);
    }
    @media (max-width: 450px) {
    .h-custom {
    height: 100%;
    }
    }
</style>
{% endblock %}

{% block body %}

<section class="vh-100">
    <div class="container-fluid h-custom">
        <div class="row d-flex justify-content-center align-items-center h-100">
            <div class="col-md-9 col-lg-6 col-xl-5">
                <img src="https://mdbcdn.b-cdn.net/img/Photos/new-templates/bootstrap-login-form/draw2.webp"
                     class="img-fluid" alt="Sample image">
            </div>
            <div class="col-md-8 col-lg-6 col-xl-4 offset-xl-1">
                <!-- Alert Button For Showing the Messages-->
                {% if messages %} <!-- main condition-->
                {% for message in messages %}
                {% if message.tags == 'error' %}
                <div class="alert alert-danger alert-dismissible fade show" role="alert">
                    <strong>Hello!</strong> {{ message }}
                    <button type="button" class="btn-close" data-bs-dismiss="alert"
                            aria-label="Close"></button>
                </div>
                {% else %}
                <div {% if message.tags %} class="alert alert-{{ message.tags }} alert-dismissible fade show"
                     role="alert" {% endif %}>
                    <strong>Hello!</strong> {{ message }}
                    <button type="button" class="btn-close" data-bs-dismiss="alert"
                            aria-label="Close"></button>
                </div>
                {% endif %}
                {% endfor %}
                {% endif %} <!-- END main condition-->

                <h3 class="mb-5 text-uppercase">ToDO-App - <span style="color:#206ce6;" class="auto-type"></span></h3>

                <form class="row g-3 needs-validation" action="/todo/login/" method="post" novalidate>
                    {% csrf_token %}
                    <!-- Email input -->
                    <div class="form-outline mb-4">
                        <label for="validationCustomUsername" class="form-label">Username</label>
                        <div class="input-group has-validation">
                            <span class="input-group-text" id="inputGroupPrepend">@</span>
                            <input type="text" name="u_name" class="form-control form-control-lg"
                                   id="validationCustomUsername" aria-describedby="inputGroupPrepend" required>
                            <div class="invalid-feedback">
                                Please choose a username.
                            </div>
                        </div>
                    </div>

                    <!-- Password input -->
                    <div class="form-outline mb-3">
                        <label for="validationCustom0" class="form-label">Password</label>
                        <input type="text" name="pass" class="form-control form-control-lg" id="validationCustom0"
                               required>
                        <div class="invalid-feedback">
                            Please provide your Password.
                        </div>
                    </div>

                    <div class="text-center text-lg-start mt-4 pt-2">
                        <button type="submit" class="btn btn-primary btn-lg"
                                style="padding-left: 2.5rem; padding-right: 2.5rem;">Login
                        </button>
                    </div>

                    <div class="d-flex justify-content-between align-items-center">
                        <div class="my-2">
                            <p class="small fw-bold mt-2 pt-1 mb-0">Don't have an account? <a href="/todo/register"
                                                                                              class="link-danger">Register</a>
                            </p>
                        </div>
                        <a href="#!" class="text-body">Forgot password?</a>
                    </div>

                </form>
            </div>
        </div>
    </div>

    <!--    Footer-->
    <div class="d-flex flex-column flex-md-row text-center text-md-start justify-content-between py-4 px-4 px-xl-5 bg-primary">
        <!-- Copyright -->
        <div class="text-white mb-3 mb-md-0">
            Copyright Â© 2020. All rights reserved.
        </div>
        <!-- Copyright -->

        <!-- Right -->
        <div>
            <a href="#!" class="text-black me-4">
                <i class="fab fa-facebook-f"></i>
            </a>
            <a href="#!" class="text-white me-4">
                <i class="fab fa-twitter"></i>
            </a>
            <a href="#!" class="text-white me-4">
                <i class="fab fa-google"></i>
            </a>
            <a href="#!" class="text-white">
                <i class="fab fa-linkedin-in"></i>
            </a>
        </div>
        <!-- Right -->
    </div> <!--    End Footer-->
</section>

{% endblock %}


{% block script %}
<script>


    // Example starter JavaScript for disabling form submissions if there are invalid fields
       //start
      (() => {
        'use strict'

        // Fetch all the forms we want to apply custom Bootstrap validation styles to
        const forms = document.querySelectorAll('.needs-validation')

        // Loop over them and prevent submission
        Array.from(forms).forEach(form => {
          form.addEventListener('submit', event => {
            if (!form.checkValidity()) {
              event.preventDefault()
              event.stopPropagation()
            }

            form.classList.add('was-validated')
          }, false)
        })
      })() //End


    //For Typed JS
    //Declare the CDN for this, in basic.html
    var typed = new Typed(".auto-type",{
        strings: ["login Form", "Plan", "Achieve", "Reflect", "Repeat"],
        typeSpeed: 100,
        backSpeed: 100,
        //backDelay: 500,
        //startDelay: 1000,
        loop: true
    })

</script>
{% endblock %}